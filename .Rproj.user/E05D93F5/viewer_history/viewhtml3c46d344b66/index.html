<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>
<script src="lib/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="lib/jquery-1.11.1/jquery.min.js"></script>
<script src="lib/highlight-8.9.1/highlight.min.js"></script>
<script src="lib/difflib-1/difflib.js"></script>
<link href="lib/codediff-1/codediff.css" rel="stylesheet" />
<link href="lib/codediff-1/googlecode.css" rel="stylesheet" />
<script src="lib/codediff-1/codediff.js"></script>
<script src="lib/diffr-binding-0.1/diffr.js"></script>

</head>
<body>
<div id="htmlwidget_container">
  <div id="htmlwidget-af23539832d36d2febf4" style="width:960px;height:500px;" class="diffr html-widget"></div>
</div>
<script type="application/json" data-for="htmlwidget-af23539832d36d2febf4">{"x":{"message":["function (..., domain = NULL, appendLF = TRUE) ","{","    args <- list(...)","    cond <- if (length(args) == 1L && inherits(args[[1L]], \"condition\")) {","        if (nargs() > 1L) ","            warning(\"additional arguments ignored in message()\")","        args[[1L]]","    }","    else {","        msg <- .makeMessage(..., domain = domain, appendLF = appendLF)","        call <- sys.call()","        simpleMessage(msg, call)","    }","    defaultHandler <- function(c) {","        cat(conditionMessage(c), file = stderr(), sep = \"\")","    }","    withRestarts({","        signalCondition(cond)","        defaultHandler(cond)","    }, muffleMessage = function() NULL)","    invisible()","}"],"contextSize":3,"minJumpSize":10,"wordWrap":true,"file1":"module_training.R","file2":"module_training_checkpoint3.R","f1":"# BUSINESS SCIENCE ----\n# DS4B 202-R ----\n# AUTHENTICATION & MODULE TRAINING -----\n# Version 1\n\n# APPLICATION DESCRIPTION ----\n# - Render a Login Dialog Page\n# - Dynamically render a UI upon authentication\n# - Create a module to produce the login\n# - Use the shinyauthr package\n\nlibrary(shiny)\nlibrary(shinythemes)\nlibrary(tidyverse)\nlibrary(shinyjs)\nlibrary(shinyauthr) # devtools::install_github(\"business-science/shinyauthr\")\n\nsource(file = \"modules/module_login.R\")\n\nui <- navbarPage(\n    title = \"Module Training\", \n    theme = shinytheme(\"flatly\"),\n    collapsible = TRUE,\n    \n    tabPanel(\n        useShinyjs(),\n        title = \"Login Module\",\n        \n        shinyauthr::loginUI(id = \"login_3\"),\n        \n        uiOutput(\n            outputId = \"web_page\"\n        )\n    )\n)\n\nserver <- function(input, output, session) {\n    \n    user_base_tbl <- tibble(\n        user_name = \"user1\",\n        password  = \"pass1\"\n    )\n    \n    # NO MODULE ----\n    validate_password <- eventReactive(input$login_button, {\n        \n        validate <- FALSE\n        if (input$user_name == user_base_tbl$user_name && input$password == user_base_tbl$password) {\n            validate <- TRUE\n        }\n        \n        validate\n        \n    })\n    \n    output$display_content <- renderUI({\n        \n        req(validate_password())\n        \n        div(\n            class = \"well\",\n            id = \"success\",\n            h1(\n                class = \"page-header\",\n                \"Stock Analyzer\",\n                tags$small(\"by Business Science\")\n            ),\n            p(\n                class = \"lead\",\n                \"Page Content...\"\n            )\n        )\n        \n    })\n    \n    # MODULE ----\n    validate_2 <- callModule(\n        module = validate_pwd,\n        id = \"login_2\",\n        data = user_base_tbl,\n        user_col = user_name,\n        pwd_col = password\n    )\n    \n    output$display_content_2 <- renderUI({\n        \n        req(validate_2())\n        \n        div(\n            class = \"well\",\n            id = \"success\",\n            h1(\n                class = \"page-header\",\n                \"Stock Analyzer (Validate Module)\",\n                tags$small(\"by Business Science\")\n            ),\n            p(\n                class = \"lead\",\n                \"Page Content...\"\n            )\n        )\n        \n    })\n    \n    # SHINYAUTHR ----\n    \n    output$web_page <- renderUI({\n        tagList(\n            h2(\"No Module\"),\n            \n            div(\n                id = \"login\",\n                style = \"width: 500px; max-width: 100%; margin: 0 auto; padding: 20px;\",\n                div(\n                    class = \"well\",\n                    h2(class = \"text-center\", \"Please Login\"),\n                    \n                    textInput(\n                        inputId = \"user_name\",\n                        label = tagList(icon(\"user\"), \"User Name\"),\n                        placeholder = \"Enter User Name\"\n                    ),\n                    \n                    passwordInput(\n                        inputId = \"password\",\n                        label = tagList(icon(\"unlock-alt\"), \"Password\"),\n                        placeholder = \"Enter Password\"\n                    ),\n                    \n                    div(\n                        class = \"text-center\",\n                        actionButton(\n                            inputId = \"login_button\",\n                            \"Log in\",\n                            class = \"btn-primary\",\n                            style = \"color:white;\"\n                        )\n                    )\n                )\n            ),\n            \n            uiOutput(\n                outputId = \"display_content\"\n            ),\n            \n            h2(\"Using A Module\"),\n            \n            login_ui(\n                id = \"login_2\",\n                title = \"Modular Login\"\n            ),\n            \n            uiOutput(\n                outputId = \"display_content_2\"\n            ),\n            \n            h2('Using Shiny Auth')\n            \n            # TODO\n        )\n    })\n}\n\nshinyApp(ui, server)","f2":"# BUSINESS SCIENCE ----\n# DS4B 202-R ----\n# AUTHENTICATION & MODULE TRAINING -----\n# Version 1\n\n# APPLICATION DESCRIPTION ----\n# - Render a Login Dialog Page\n# - Dynamically render a UI upon authentication\n# - Create a module to produce the login\n# - Use the shinyauthr package\n\nlibrary(shiny)\nlibrary(shinythemes)\nlibrary(shinyjs)\nlibrary(tidyverse)\n\nlibrary(shinyauthr) # devtools::install_github(\"business-science/shinyauthr\")\n\n\nsource(\"modules/module_login.R\")\n\nui <- navbarPage(\n    title = \"Module Training\", \n    theme = shinytheme(\"flatly\"),\n    collapsible = TRUE,\n    \n    tabPanel(\n        useShinyjs(),\n        title = \"Login Module\",\n        \n        shinyauthr::loginUI(id = \"login_3\", error_message = \"Wrong password\"),\n        \n        verbatimTextOutput(outputId = \"creds\"),\n        \n        uiOutput(outputId = \"web_page\")\n        \n    )\n)\n\nserver <- function(input, output, session) {\n    \n    user_base_tbl <- tibble(\n        user_name = \"user1\",\n        password  = \"pass1\",\n        settings  = list(favorite_stocks = c(\"AAPL\", \"GOOG\"))\n    )\n    \n    # NO MODULE ----\n    validate_password <- eventReactive(input$login_button, {\n        \n        validate <- FALSE\n        if (input$user_name == user_base_tbl$user_name && input$password == user_base_tbl$password) {\n            validate <- TRUE\n        }\n        \n        validate\n        \n    })\n    \n    output$display_content <- renderUI({\n        \n        req(validate_password())\n        \n        div(\n            class = \"well\",\n            id = \"success\",\n            h1(class = \"page-header\", \"Stock Analyer\", tags$small(\"by Business Science\")),\n            p(class = \"lead\", \"Page content...\")\n        )\n        \n    })\n    \n    \n    # MODULE ----\n    validate_2 <- callModule(\n        module   = validate_pwd, \n        id       = \"login_2\", \n        data     = user_base_tbl,\n        user_col = user_name, \n        pwd_col  = password)\n    \n    output$display_content_2 <- renderUI({\n        \n        req(validate_2())\n        \n        div(\n            class = \"well\",\n            id = \"success\",\n            h1(class = \"page-header\", \"Stock Analyer (VALIDATE MODULE)\", tags$small(\"by Business Science\")),\n            p(class = \"lead\", \"Page content...\")\n        )\n        \n    })\n    \n    # SHINYAUTHR ----\n    \n    credentials <- callModule(\n        module   = shinyauthr::login,\n        id       = \"login_3\",\n        data     = user_base_tbl,\n        user_col = user_name,\n        pwd_col  = password,\n        log_out  = reactive(logout_init()))\n    \n    user_auth <- reactive({\n        credentials()$user_auth\n    })\n    \n    user_data <- reactive({\n        credentials()$info\n    })\n    \n    logout_init <- callModule(\n        module = shinyauthr::logout, \n        id = \"logout\",\n        active = reactive(user_auth())\n    )\n    \n    output$creds <- renderPrint({\n        credentials()\n    })\n    \n    \n    output$web_page <- renderUI({\n        \n        req(user_auth())\n        \n        tagList(\n            h2(\"No Module\"),\n            \n            div(\n                id = \"login\",\n                style = \"width: 500px; max-width: 100%; margin: 0 auto; padding: 20px;\",\n                div(\n                    class = \"well\",\n                    h2(class = \"text-center\", \"Please Login\"),\n                    \n                    textInput(inputId     = \"user_name\", \n                              label       = tagList(icon(\"user\"), \"User Name\"), \n                              placeholder = \"Enter user name\"),\n                    \n                    passwordInput(inputId      = \"password\",\n                                  label       = tagList(icon(\"unlock-alt\"), \"Password\"),\n                                  placeholder = \"Enter password\"),\n                    \n                    div(\n                        class = \"text-center\",\n                        actionButton(inputId = \"login_button\", \"Log in\", class = \"btn-primary\", style = \"color:white;\")\n                    )\n                )\n            ),\n            \n            uiOutput(outputId = \"display_content\"),\n            \n            h2(\"Using A Module\"),\n            \n            login_ui(id = \"login_2\", \"Modular Login\"),\n            \n            uiOutput(outputId = \"display_content_2\"),\n            \n            h2('Using Shiny Auth')\n            \n            # TODO\n        )\n        \n    })\n}\n\nshinyApp(ui, server)"},"evals":[],"jsHooks":[]}</script>
<script type="application/htmlwidget-sizing" data-for="htmlwidget-af23539832d36d2febf4">{"viewer":{"width":450,"height":350,"padding":15,"fill":true},"browser":{"width":960,"height":500,"padding":40,"fill":false}}</script>
</body>
</html>
